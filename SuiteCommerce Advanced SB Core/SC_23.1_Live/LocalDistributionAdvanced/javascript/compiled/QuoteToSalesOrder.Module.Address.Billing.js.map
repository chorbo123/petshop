{"version":3,"sources":["QuoteToSalesOrder.Module.Address.Billing.ts"],"names":[],"mappings":"AAAA;;;;;EAKE;;;IASF,IAAM,qCAAqC,GAAQ,+BAA+B,CAAC,MAAM,CAAC;QACtF,2BAA2B,EAAE,UAAS,SAAS,EAAE,gBAAgB;YAC7D,OAAO,SAAS,CAAC,IAAI,CAAC,UAAA,OAAO;gBACzB,IAAM,IAAI,GAAG,CAAG,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,EAAE,WAAI,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC;oBAChE,EAAE,WAAI,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,WAAI,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,WAAI,OAAO,CAAC,GAAG,CAC1E,OAAO,CACV,IAAI,EAAE,WAAI,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,WAAI,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,EAAE,WAAI,OAAO,CAAC,GAAG,CACjF,SAAS,CACZ,IAAI,EAAE,CAAE,CAAC;gBACV,OAAO,gBAAgB,CAAC,UAAU,CAAC,GAAG,EAAE,GAAG,CAAC,KAAK,IAAI,CAAC;YAC1D,CAAC,CAAC,CAAC;QACP,CAAC;QACD,yBAAyB,EAAE;YACvB,IAAM,SAAS,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAC9C,IAAI,eAAe,GAAG,SAAS,IAAI,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YAE9E,IAAI,CAAC,eAAe,IAAI,SAAS,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;gBACvD,eAAe,GAAG,IAAI,CAAC,2BAA2B,CAC9C,SAAS,EACT,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAC9B,CAAC;gBACF,IAAI,eAAe,IAAI,eAAe,CAAC,GAAG,CAAC,YAAY,CAAC,EAAE;oBACtD,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC;iBACtD;aACJ;YACD,OAAO,eAAe,CAAC;QAC3B,CAAC;QACD,OAAO,EAAE;YACL,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,IAAI,CAAC,WAAW,EAAE;gBACtC,OAAO,MAAM,CAAC,QAAQ,EAAE,CAAC,OAAO,EAAE,CAAC;aACtC;YAED,IAAM,eAAe,GAAG,IAAI,CAAC,yBAAyB,EAAE,CAAC;YACzD,OAAO,IAAI,CAAC,oBAAoB,CAAC,eAAe,CAAC,CAAC;QACtD,CAAC;KACJ,CAAC,CAAC;IAEH,OAAS,qCAAqC,CAAC","file":"QuoteToSalesOrder.Module.Address.Billing.js","sourcesContent":["/*\n\tÂ© 2020 NetSuite Inc.\n\tUser may not copy, modify, distribute, or re-bundle or otherwise make available this code;\n\tprovided, however, if you are an authorized user with a NetSuite account or log-in, you\n\tmay use this code subject to the terms that govern your access and use.\n*/\n\n/// <amd-module name=\"QuoteToSalesOrder.Module.Address.Billing\"/>\n/// <reference path=\"../../../Commons/Utilities/JavaScript/UnderscoreExtended.d.ts\" />\n\nimport * as jQuery from '../../../Commons/Core/JavaScript/jQuery';\n\nimport OrderWizardModuleAddressBilling = require('../../OrderWizard.Module.Address/JavaScript/OrderWizard.Module.Address.Billing');\n\nconst QuoteToSalesOrderModuleAddressBilling: any = OrderWizardModuleAddressBilling.extend({\n    getSelectedAddressByAddress: function(addresses, addressToCompare) {\n        return addresses.find(address => {\n            const temp = `${address.get('country') || ''} ${address.get('state') ||\n                ''} ${address.get('city') || ''} ${address.get('zip') || ''} ${address.get(\n                'addr1'\n            ) || ''} ${address.get('addr2') || ''} ${address.get('fullname') || ''} ${address.get(\n                'company'\n            ) || ''}`;\n            return addressToCompare.replaceAll('-', ' ') === temp;\n        });\n    },\n    getUpdatedSelectedAddress: function() {\n        const addresses = this.getAddressCollection();\n        let selectedAddress = addresses && addresses.get(this.model.get(this.manage));\n\n        if (!selectedAddress && addresses && addresses.length > 0) {\n            selectedAddress = this.getSelectedAddressByAddress(\n                addresses,\n                this.model.get(this.manage)\n            );\n            if (selectedAddress && selectedAddress.get('internalid')) {\n                this.setAddress(selectedAddress.get('internalid'));\n            }\n        }\n        return selectedAddress;\n    },\n    isValid: function() {\n        if (!this.isActive() || this.tempAddress) {\n            return jQuery.Deferred().resolve();\n        }\n\n        const selectedAddress = this.getUpdatedSelectedAddress();\n        return this.checkSelectedAddress(selectedAddress);\n    }\n});\n\nexport = QuoteToSalesOrderModuleAddressBilling;\n"]}